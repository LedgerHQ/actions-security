
# **GitHub Action: `jfrog-login`**

## **Overview**

The `jfrog-login` GitHub Action facilitates a secure login to Ledger's JFrog platform, which includes services such as **Artifactory** and **Xray**. By using OIDC authentication, this action ensures secure access to manage artifacts, perform security scans, and interact with the JFrog APIs and CLI without handling sensitive credentials manually.

This action is designed for seamless integration within Ledger's CI/CD pipeline, allowing developers to securely interact with JFrog services while automating critical parts of the software supply chain.

---

## **Usage**

### **Required Permissions**

To enable this action to work properly, ensure the following permissions are set in your workflow:

```yaml
permissions:
  id-token: write
```

This grants the action permission to generate the OIDC token required for authentication with JFrog.

### **Example Workflow**

Here's how you can use the `jfrog-login` action within your workflow:

```yaml
jobs:
  release:
    runs-on: ubuntu-latest
    steps:
      - name: Login to JFrog Ledger
        id: jfrog-login
        uses: LedgerHQ/actions-security/actions/jfrog-login@v1
```

---

<!-- action-docs-outputs source="action.yml" -->
## **Outputs**

| name | description |
| --- | --- |
| `oidc-token` | <p>From JFrog CLI: JFrog OIDC token generated by the Setup JFrog CLI when setting oidc-provider-name.</p> |
| `oidc-user` | <p>From JFrog CLI: JFrog OIDC username from the OIDC token generated by the Setup JFrog CLI when setting oidc-provider-name.</p> |
| `jfrog-url` | <p>Jfrog URL to be used for the JFrog API / CLI</p> |
<!-- action-docs-outputs source="action.yml" -->

---

## **Runs**

This action is a **composite action**, meaning it aggregates multiple steps to streamline the login process and ensure secure access to JFrog services.

---

## **Additional Information**

- This action securely manages the OIDC-based login for Ledger's JFrog platform, removing the need for manual credential handling.
- Ensure your GitHub repository and workflows are configured to use OIDC for maximum security and efficiency.

For further assistance, please contact Ledger's Cyber Security team.
